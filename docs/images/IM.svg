<?xml version="1.0" encoding="UTF-8"?>
<!-- Do not edit this file with editors other than draw.io -->
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" width="793px" height="390px" viewBox="-0.5 -0.5 793 390" content="&lt;mxfile host=&quot;Electron&quot; modified=&quot;2024-04-12T09:30:38.679Z&quot; agent=&quot;Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) draw.io/24.1.0 Chrome/120.0.6099.109 Electron/28.1.0 Safari/537.36&quot; etag=&quot;DIg9qG0tMQuksFIIMWsj&quot; scale=&quot;1&quot; border=&quot;0&quot; version=&quot;24.1.0&quot; type=&quot;device&quot;&gt;&#10;  &lt;diagram name=&quot;第 1 页&quot; id=&quot;jwTAIons0TESbT7VQtv0&quot;&gt;&#10;    &lt;mxGraphModel dx=&quot;1221&quot; dy=&quot;823&quot; grid=&quot;1&quot; gridSize=&quot;10&quot; guides=&quot;1&quot; tooltips=&quot;1&quot; connect=&quot;1&quot; arrows=&quot;1&quot; fold=&quot;1&quot; page=&quot;1&quot; pageScale=&quot;1&quot; pageWidth=&quot;827&quot; pageHeight=&quot;1169&quot; math=&quot;0&quot; shadow=&quot;0&quot;&gt;&#10;      &lt;root&gt;&#10;        &lt;mxCell id=&quot;0&quot; /&gt;&#10;        &lt;mxCell id=&quot;1&quot; parent=&quot;0&quot; /&gt;&#10;        &lt;mxCell id=&quot;zw6iS5E5_7dV5Ygnx_0N-1&quot; value=&quot;&quot; style=&quot;rounded=0;whiteSpace=wrap;html=1;strokeColor=none;&quot; vertex=&quot;1&quot; parent=&quot;1&quot;&gt;&#10;          &lt;mxGeometry x=&quot;17&quot; y=&quot;30&quot; width=&quot;793&quot; height=&quot;390&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;zLIhGLuEbwBRJvyvkEmH-1&quot; value=&quot;业务服务&quot; style=&quot;rounded=0;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;fontFamily=Lucida Console;textShadow=0;&quot; parent=&quot;1&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry x=&quot;80&quot; y=&quot;224&quot; width=&quot;120&quot; height=&quot;60&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;zLIhGLuEbwBRJvyvkEmH-13&quot; style=&quot;edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontFamily=Lucida Console;textShadow=0;&quot; parent=&quot;1&quot; source=&quot;zLIhGLuEbwBRJvyvkEmH-2&quot; target=&quot;zLIhGLuEbwBRJvyvkEmH-12&quot; edge=&quot;1&quot;&gt;&#10;          &lt;mxGeometry relative=&quot;1&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;zLIhGLuEbwBRJvyvkEmH-14&quot; value=&quot;1. 异步拉取消息&quot; style=&quot;edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontFamily=Lucida Console;fontStyle=1;textShadow=0;&quot; parent=&quot;zLIhGLuEbwBRJvyvkEmH-13&quot; vertex=&quot;1&quot; connectable=&quot;0&quot;&gt;&#10;          &lt;mxGeometry x=&quot;0.6126&quot; y=&quot;1&quot; relative=&quot;1&quot; as=&quot;geometry&quot;&gt;&#10;            &lt;mxPoint x=&quot;-49&quot; y=&quot;-4&quot; as=&quot;offset&quot; /&gt;&#10;          &lt;/mxGeometry&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;zLIhGLuEbwBRJvyvkEmH-2&quot; value=&quot;RabbitMQ&amp;lt;div&amp;gt;消息队列&amp;lt;/div&amp;gt;&quot; style=&quot;shape=cylinder3;whiteSpace=wrap;html=1;boundedLbl=1;backgroundOutline=1;size=15;direction=south;fillColor=#ffe6cc;strokeColor=#d79b00;fontFamily=Lucida Console;textShadow=0;&quot; parent=&quot;1&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry x=&quot;200&quot; y=&quot;328&quot; width=&quot;220&quot; height=&quot;60&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;zLIhGLuEbwBRJvyvkEmH-7&quot; style=&quot;edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=1;entryDx=0;entryDy=0;fontFamily=Lucida Console;textShadow=0;&quot; parent=&quot;1&quot; source=&quot;zLIhGLuEbwBRJvyvkEmH-1&quot; target=&quot;zLIhGLuEbwBRJvyvkEmH-3&quot; edge=&quot;1&quot;&gt;&#10;          &lt;mxGeometry relative=&quot;1&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;zLIhGLuEbwBRJvyvkEmH-8&quot; value=&quot;&amp;lt;i&amp;gt;1. 发起聊天前检查&amp;lt;/i&amp;gt;&quot; style=&quot;edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontFamily=Lucida Console;textShadow=0;labelBorderColor=none;&quot; parent=&quot;zLIhGLuEbwBRJvyvkEmH-7&quot; vertex=&quot;1&quot; connectable=&quot;0&quot;&gt;&#10;          &lt;mxGeometry x=&quot;-0.671&quot; y=&quot;-2&quot; relative=&quot;1&quot; as=&quot;geometry&quot;&gt;&#10;            &lt;mxPoint x=&quot;-62&quot; y=&quot;-4&quot; as=&quot;offset&quot; /&gt;&#10;          &lt;/mxGeometry&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;zLIhGLuEbwBRJvyvkEmH-9&quot; style=&quot;edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=1;entryDx=0;entryDy=0;entryPerimeter=0;fontFamily=Lucida Console;textShadow=0;&quot; parent=&quot;1&quot; source=&quot;zLIhGLuEbwBRJvyvkEmH-1&quot; target=&quot;zLIhGLuEbwBRJvyvkEmH-2&quot; edge=&quot;1&quot;&gt;&#10;          &lt;mxGeometry relative=&quot;1&quot; as=&quot;geometry&quot;&gt;&#10;            &lt;Array as=&quot;points&quot;&gt;&#10;              &lt;mxPoint x=&quot;140&quot; y=&quot;358&quot; /&gt;&#10;            &lt;/Array&gt;&#10;          &lt;/mxGeometry&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;zLIhGLuEbwBRJvyvkEmH-10&quot; value=&quot;2. 推送到消息队列&quot; style=&quot;edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontFamily=Lucida Console;textShadow=0;fontStyle=2&quot; parent=&quot;zLIhGLuEbwBRJvyvkEmH-9&quot; vertex=&quot;1&quot; connectable=&quot;0&quot;&gt;&#10;          &lt;mxGeometry x=&quot;-0.2622&quot; y=&quot;-2&quot; relative=&quot;1&quot; as=&quot;geometry&quot;&gt;&#10;            &lt;mxPoint x=&quot;62&quot; y=&quot;-29&quot; as=&quot;offset&quot; /&gt;&#10;          &lt;/mxGeometry&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;zLIhGLuEbwBRJvyvkEmH-11&quot; value=&quot;MongoDB&amp;lt;div&amp;gt;数据库集群&amp;lt;/div&amp;gt;&quot; style=&quot;shape=cylinder3;whiteSpace=wrap;html=1;boundedLbl=1;backgroundOutline=1;size=15;fillColor=#d5e8d4;strokeColor=#82b366;fontFamily=Lucida Console;textShadow=0;&quot; parent=&quot;1&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry x=&quot;275&quot; y=&quot;204&quot; width=&quot;86&quot; height=&quot;80&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;zLIhGLuEbwBRJvyvkEmH-18&quot; style=&quot;edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=1;entryY=0.5;entryDx=0;entryDy=0;fontFamily=Lucida Console;textShadow=0;&quot; parent=&quot;1&quot; source=&quot;zLIhGLuEbwBRJvyvkEmH-12&quot; target=&quot;zLIhGLuEbwBRJvyvkEmH-3&quot; edge=&quot;1&quot;&gt;&#10;          &lt;mxGeometry relative=&quot;1&quot; as=&quot;geometry&quot;&gt;&#10;            &lt;Array as=&quot;points&quot;&gt;&#10;              &lt;mxPoint x=&quot;500&quot; y=&quot;104&quot; /&gt;&#10;              &lt;mxPoint x=&quot;340&quot; y=&quot;104&quot; /&gt;&#10;            &lt;/Array&gt;&#10;          &lt;/mxGeometry&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;zLIhGLuEbwBRJvyvkEmH-19&quot; value=&quot;2. 查询房间内广播对象&quot; style=&quot;edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontFamily=Lucida Console;fontStyle=1;textShadow=0;&quot; parent=&quot;zLIhGLuEbwBRJvyvkEmH-18&quot; vertex=&quot;1&quot; connectable=&quot;0&quot;&gt;&#10;          &lt;mxGeometry x=&quot;-0.8017&quot; y=&quot;-2&quot; relative=&quot;1&quot; as=&quot;geometry&quot;&gt;&#10;            &lt;mxPoint x=&quot;68&quot; y=&quot;-22&quot; as=&quot;offset&quot; /&gt;&#10;          &lt;/mxGeometry&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;zLIhGLuEbwBRJvyvkEmH-12&quot; value=&quot;推送服务节点&quot; style=&quot;rounded=0;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;fontFamily=Lucida Console;textShadow=0;&quot; parent=&quot;1&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry x=&quot;440&quot; y=&quot;224&quot; width=&quot;120&quot; height=&quot;60&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;zLIhGLuEbwBRJvyvkEmH-21&quot; style=&quot;edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;entryPerimeter=0;fontFamily=Lucida Console;textShadow=0;&quot; parent=&quot;1&quot; source=&quot;zLIhGLuEbwBRJvyvkEmH-12&quot; target=&quot;zLIhGLuEbwBRJvyvkEmH-11&quot; edge=&quot;1&quot;&gt;&#10;          &lt;mxGeometry relative=&quot;1&quot; as=&quot;geometry&quot;&gt;&#10;            &lt;mxPoint x=&quot;280&quot; y=&quot;180&quot; as=&quot;targetPoint&quot; /&gt;&#10;            &lt;Array as=&quot;points&quot;&gt;&#10;              &lt;mxPoint x=&quot;400&quot; y=&quot;254&quot; /&gt;&#10;              &lt;mxPoint x=&quot;400&quot; y=&quot;184&quot; /&gt;&#10;              &lt;mxPoint x=&quot;318&quot; y=&quot;184&quot; /&gt;&#10;            &lt;/Array&gt;&#10;          &lt;/mxGeometry&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;zLIhGLuEbwBRJvyvkEmH-22&quot; value=&quot;3*. 异步写入数据库&quot; style=&quot;edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontFamily=Lucida Console;fontStyle=1;textShadow=0;&quot; parent=&quot;zLIhGLuEbwBRJvyvkEmH-21&quot; vertex=&quot;1&quot; connectable=&quot;0&quot;&gt;&#10;          &lt;mxGeometry x=&quot;0.3285&quot; y=&quot;-1&quot; relative=&quot;1&quot; as=&quot;geometry&quot;&gt;&#10;            &lt;mxPoint x=&quot;9&quot; y=&quot;-15&quot; as=&quot;offset&quot; /&gt;&#10;          &lt;/mxGeometry&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;zLIhGLuEbwBRJvyvkEmH-23&quot; style=&quot;edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;fontFamily=Lucida Console;textShadow=0;&quot; parent=&quot;1&quot; source=&quot;zLIhGLuEbwBRJvyvkEmH-12&quot; target=&quot;9tyUJpJ1DEJV4aCqBoAr-1&quot; edge=&quot;1&quot;&gt;&#10;          &lt;mxGeometry relative=&quot;1&quot; as=&quot;geometry&quot;&gt;&#10;            &lt;mxPoint x=&quot;615&quot; y=&quot;334&quot; as=&quot;targetPoint&quot; /&gt;&#10;          &lt;/mxGeometry&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;zLIhGLuEbwBRJvyvkEmH-24&quot; value=&quot;3*. 异步推送至 Socket.IO 节点&quot; style=&quot;edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontFamily=Lucida Console;fontStyle=1;textShadow=0;&quot; parent=&quot;zLIhGLuEbwBRJvyvkEmH-23&quot; vertex=&quot;1&quot; connectable=&quot;0&quot;&gt;&#10;          &lt;mxGeometry x=&quot;0.339&quot; y=&quot;-1&quot; relative=&quot;1&quot; as=&quot;geometry&quot;&gt;&#10;            &lt;mxPoint x=&quot;56&quot; y=&quot;-45&quot; as=&quot;offset&quot; /&gt;&#10;          &lt;/mxGeometry&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;zLIhGLuEbwBRJvyvkEmH-25&quot; value=&quot;Socket.IO 节点负责与用户建立持久稳定的双向连接，用于执行消息推送&quot; style=&quot;text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontFamily=Lucida Console;textShadow=0;&quot; parent=&quot;1&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry x=&quot;630&quot; y=&quot;277&quot; width=&quot;170&quot; height=&quot;56&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;9tyUJpJ1DEJV4aCqBoAr-1&quot; value=&quot;Socket.IO 服务节点&quot; style=&quot;shape=image;verticalLabelPosition=bottom;labelBackgroundColor=default;verticalAlign=top;aspect=fixed;imageAspect=0;image=data:image/svg+xml,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyNTYgMjU2IiBoZWlnaHQ9IjMyIiB3aWR0aD0iMzIiPjxwYXRoIGQ9Ik05Ni40NDcgNy4zODJjMzIuMjY3LTguMjc1IDY3LjkyOS0zLjQ1MyA5Ni4zODYgMTQuMTFjMzUuODQgMjEuNDMzIDU5LjIzOCA2MS45NzYgNTkuODMzIDEwMy43MWMxLjMxIDQyLjE1LTIwLjY1OSA4My45NDQtNTUuOTYzIDEwNi44NjVjLTM5LjI5MyAyNi40MzMtOTMuNjQ4IDI3LjQ0Ni0xMzMuNzc1IDIuMzIyYy00MC45LTI0LjQxLTY0Ljc3NC03My42NDUtNTguNjQxLTEyMC45MTZjNC45NC00OS45NSA0My41Mi05NC4wMDUgOTIuMTYtMTA2LjA5IiBmaWxsPSIjMDEwMTAxIi8+PHBhdGggZD0iTTkxLjUwNSAyNy44MDNjNjAuOTY0LTI0LjQxIDEzNS43NCAyMC42NTggMTQyLjA1IDg2LjAyOGM5LjgyNCA1OC44Mi0zOC45OTUgMTE4LjU5My05OC41OSAxMjAuMzJjLTU2LjY3NyA1LjY1Ni0xMTEuNDQ5LTQyLjM5LTExMy4wNTYtOTkuMzA0Yy00LjIyNy00Ni4wOCAyNi4xMzYtOTEuODAzIDY5LjU5Ni0xMDcuMDQ0IiBmaWxsPSIjRkZGIi8+PHBhdGggZD0iTTk3LjYzNyAxMjEuNjljMjcuMzI3LTIyLjMyNiA1NC4wNTgtNDUuNDI2IDgxLjk4LTY3LjA5N2MtMTQuNjQ2IDIyLjUwNS0yOS43MDggNDQuNzExLTQ0LjM1NCA2Ny4yMTVjLTEyLjU2Mi4wNi0yNS4xMjMuMDYtMzcuNjI2LS4xMTltMjMuMSAxMi40NDNjMTIuNjIxIDAgMjUuMTgzIDAgMzcuNzQ1LjE3OWMtMjcuNTA1IDIyLjIwNi01NC4xMTcgNDUuNDg0LTgyLjA5OSA2Ny4wOTZjMTQuNjQ2LTIyLjUwNSAyOS43MDgtNDQuNzcgNDQuMzU0LTY3LjI3NSIgZmlsbD0iIzAxMDEwMSIvPjwvc3ZnPg==;fontFamily=Lucida Console;textShadow=0;&quot; parent=&quot;1&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry x=&quot;599&quot; y=&quot;333&quot; width=&quot;50&quot; height=&quot;50&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;zLIhGLuEbwBRJvyvkEmH-5&quot; value=&quot;房间和用户的双向映射&amp;lt;div&amp;gt;快速查询用户的房间的映射关系&amp;lt;/div&amp;gt;&quot; style=&quot;text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontFamily=Lucida Console;textShadow=0;&quot; parent=&quot;1&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry x=&quot;83.94&quot; y=&quot;48&quot; width=&quot;185&quot; height=&quot;30&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;zLIhGLuEbwBRJvyvkEmH-3&quot; value=&quot;&amp;lt;font&amp;gt;Map&amp;amp;lt;Room, Set&amp;amp;lt;User&amp;amp;gt;&amp;amp;gt;&amp;lt;/font&amp;gt;&amp;lt;div&amp;gt;&amp;lt;font&amp;gt;Map&amp;amp;lt;User&amp;lt;/font&amp;gt;&amp;lt;span style=&amp;quot;background-color: initial;&amp;quot;&amp;gt;, Set&amp;amp;lt;Room&amp;amp;gt;&amp;amp;gt;&amp;lt;/span&amp;gt;&amp;lt;/div&amp;gt;&quot; style=&quot;rounded=1;whiteSpace=wrap;html=1;fillColor=#f8cecc;strokeColor=#b85450;fontFamily=Lucida Console;textShadow=0;&quot; parent=&quot;1&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry x=&quot;40&quot; y=&quot;82&quot; width=&quot;200&quot; height=&quot;45&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;9tyUJpJ1DEJV4aCqBoAr-2&quot; value=&quot;&quot; style=&quot;shape=image;verticalLabelPosition=bottom;labelBackgroundColor=default;verticalAlign=top;aspect=fixed;imageAspect=0;image=data:image/svg+xml,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyNTYgMjIwIiBoZWlnaHQ9IjMyIiB3aWR0aD0iMzcuMjQiPjxwYXRoIGQ9Ik0yNDUuOTcgMTY4Ljk0M2MtMTMuNjYyIDcuMTIxLTg0LjQzNCAzNi4yMi05OS41MDEgNDQuMDc1Yy0xNS4wNjcgNy44NTYtMjMuNDM3IDcuNzgtMzUuMzQgMi4wOWMtMTEuOTAyLTUuNjktODcuMjE2LTM2LjExMi0xMDAuNzgzLTQyLjU5N0MzLjU2NiAxNjkuMjcxIDAgMTY2LjUzNSAwIDE2My45NTF2LTI1Ljg3NnM5OC4wNS0yMS4zNDUgMTEzLjg3OS0yNy4wMjRjMTUuODI4LTUuNjc5IDIxLjMyLTUuODg0IDM0Ljc5LS45NWMxMy40NzIgNC45MzYgOTQuMDE4IDE5LjQ2OCAxMDcuMzMxIDI0LjM0NGwtLjAwNiAyNS41MWMuMDAyIDIuNTU4LTMuMDcgNS4zNjQtMTAuMDI0IDguOTg4IiBmaWxsPSIjOTEyNjI2Ii8+PHBhdGggZD0iTTI0NS45NjUgMTQzLjIyYy0xMy42NjEgNy4xMTgtODQuNDMxIDM2LjIxOC05OS40OTggNDQuMDcyYy0xNS4wNjYgNy44NTctMjMuNDM2IDcuNzgtMzUuMzM4IDIuMDljLTExLjkwMy01LjY4Ni04Ny4yMTQtMzYuMTEzLTEwMC43OC00Mi41OTRjLTEzLjU2Ni02LjQ4NS0xMy44NS0xMC45NDgtLjUyNC0xNi4xNjZjMTMuMzI2LTUuMjIgODguMjI0LTM0LjYwNSAxMDQuMDU1LTQwLjI4NGMxNS44MjgtNS42NzcgMjEuMzE5LTUuODg0IDM0Ljc4OS0uOTQ4YzEzLjQ3MSA0LjkzNCA4My44MTkgMzIuOTM1IDk3LjEzIDM3LjgxYzEzLjMxNiA0Ljg4MSAxMy44MjcgOC45LjE2NiAxNi4wMiIgZmlsbD0iI0M2MzAyQiIvPjxwYXRoIGQ9Ik0yNDUuOTcgMTI3LjA3NGMtMTMuNjYyIDcuMTIyLTg0LjQzNCAzNi4yMi05OS41MDEgNDQuMDc4Yy0xNS4wNjcgNy44NTMtMjMuNDM3IDcuNzc3LTM1LjM0IDIuMDg3Yy0xMS45MDMtNS42ODctODcuMjE2LTM2LjExMi0xMDAuNzgzLTQyLjU5N0MzLjU2NiAxMjcuNDAyIDAgMTI0LjY3IDAgMTIyLjA4NVY5Ni4yMDZzOTguMDUtMjEuMzQ0IDExMy44NzktMjcuMDIzYzE1LjgyOC01LjY3OSAyMS4zMi01Ljg4NSAzNC43OS0uOTVDMTYyLjE0MiA3My4xNjggMjQyLjY4OCA4Ny42OTcgMjU2IDkyLjU3NGwtLjAwNiAyNS41MTNjLjAwMiAyLjU1Ny0zLjA3IDUuMzYzLTEwLjAyNCA4Ljk4NyIgZmlsbD0iIzkxMjYyNiIvPjxwYXRoIGQ9Ik0yNDUuOTY1IDEwMS4zNTFjLTEzLjY2MSA3LjEyLTg0LjQzMSAzNi4yMTgtOTkuNDk4IDQ0LjA3NWMtMTUuMDY2IDcuODU0LTIzLjQzNiA3Ljc3Ny0zNS4zMzggMi4wODdjLTExLjkwMy01LjY4Ni04Ny4yMTQtMzYuMTEyLTEwMC43OC00Mi41OTRjLTEzLjU2Ni02LjQ4My0xMy44NS0xMC45NDctLjUyNC0xNi4xNjdDMjMuMTUxIDgzLjUzNSA5OC4wNSA1NC4xNDggMTEzLjg4IDQ4LjQ3YzE1LjgyOC01LjY3OCAyMS4zMTktNS44ODQgMzQuNzg5LS45NDljMTMuNDcxIDQuOTM0IDgzLjgxOSAzMi45MzMgOTcuMTMgMzcuODFjMTMuMzE2IDQuODggMTMuODI3IDguOS4xNjYgMTYuMDIiIGZpbGw9IiNDNjMwMkIiLz48cGF0aCBkPSJNMjQ1Ljk3IDgzLjY1M2MtMTMuNjYyIDcuMTItODQuNDM0IDM2LjIyLTk5LjUwMSA0NC4wNzhjLTE1LjA2NyA3Ljg1NC0yMy40MzcgNy43NzctMzUuMzQgMi4wODdjLTExLjkwMy01LjY4Ny04Ny4yMTYtMzYuMTEzLTEwMC43ODMtNDIuNTk1QzMuNTY2IDgzLjk4IDAgODEuMjQ3IDAgNzguNjY1di0yNS44OHM5OC4wNS0yMS4zNDMgMTEzLjg3OS0yNy4wMjFjMTUuODI4LTUuNjggMjEuMzItNS44ODQgMzQuNzktLjk1QzE2Mi4xNDIgMjkuNzQ5IDI0Mi42ODggNDQuMjc4IDI1NiA0OS4xNTVsLS4wMDYgMjUuNTEyYy4wMDIgMi41NTUtMy4wNyA1LjM2MS0xMC4wMjQgOC45ODYiIGZpbGw9IiM5MTI2MjYiLz48cGF0aCBkPSJNMjQ1Ljk2NSA1Ny45M2MtMTMuNjYxIDcuMTItODQuNDMxIDM2LjIyLTk5LjQ5OCA0NC4wNzRjLTE1LjA2NiA3Ljg1NC0yMy40MzYgNy43NzctMzUuMzM4IDIuMDlDOTkuMjI3IDk4LjQwNCAyMy45MTUgNjcuOTggMTAuMzUgNjEuNDk3Qy0zLjIxNyA1NS4wMTUtMy41IDUwLjU1IDkuODI1IDQ1LjMzMUMyMy4xNTEgNDAuMTEzIDk4LjA1IDEwLjczIDExMy44OCA1LjA1YzE1LjgyOC01LjY3OSAyMS4zMTktNS44ODMgMzQuNzg5LS45NDhjMTMuNDcxIDQuOTM1IDgzLjgxOSAzMi45MzQgOTcuMTMgMzcuODExYzEzLjMxNiA0Ljg3NiAxMy44MjcgOC44OTcuMTY2IDE2LjAxNyIgZmlsbD0iI0M2MzAyQiIvPjxwYXRoIGQ9Im0xNTkuMjgzIDMyLjc1N2wtMjIuMDEgMi4yODVsLTQuOTI3IDExLjg1NmwtNy45NTgtMTMuMjNsLTI1LjQxNS0yLjI4NGwxOC45NjQtNi44MzlsLTUuNjktMTAuNDk4bDE3Ljc1NSA2Ljk0NGwxNi43MzgtNS40OGwtNC41MjQgMTAuODU1em0tMjguMjUxIDU3LjUxOEw4OS45NTUgNzMuMjM4bDU4Ljg2LTkuMDM1em0tNTYuOTUtNTAuOTI4YzE3LjM3NSAwIDMxLjQ2IDUuNDYgMzEuNDYgMTIuMTk0YzAgNi43MzYtMTQuMDg1IDEyLjE5NS0zMS40NiAxMi4xOTVzLTMxLjQ2LTUuNDYtMzEuNDYtMTIuMTk1YzAtNi43MzQgMTQuMDg1LTEyLjE5NCAzMS40Ni0xMi4xOTQiIGZpbGw9IiNGRkYiLz48cGF0aCBkPSJtMTg1LjI5NSAzNS45OThsMzQuODM2IDEzLjc2NmwtMzQuODA2IDEzLjc1M3oiIGZpbGw9IiM2MjFCMUMiLz48cGF0aCBkPSJtMTQ2Ljc1NSA1MS4yNDNsMzguNTQtMTUuMjQ1bC4wMyAyNy41MTlsLTMuNzc5IDEuNDc4eiIgZmlsbD0iIzlBMjkyOCIvPjwvc3ZnPg==;textShadow=0;&quot; parent=&quot;1&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry x=&quot;40&quot; y=&quot;40&quot; width=&quot;43.94&quot; height=&quot;38&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;      &lt;/root&gt;&#10;    &lt;/mxGraphModel&gt;&#10;  &lt;/diagram&gt;&#10;&lt;/mxfile&gt;&#10;"><defs/><g><g><rect x="0" y="0" width="793" height="390" fill="rgb(255, 255, 255)" stroke="none" pointer-events="all"/></g><g><rect x="63" y="194" width="120" height="60" fill="#dae8fc" stroke="#6c8ebf" pointer-events="all"/></g><g><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 224px; margin-left: 64px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: &quot;Lucida Console&quot;; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">业务服务</div></div></div></foreignObject><text x="123" y="228" fill="rgb(0, 0, 0)" font-family="Lucida Console" font-size="12px" text-anchor="middle">业务服务</text></switch></g></g><g><path d="M 403 328 L 483 328 L 483 260.37" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 483 255.12 L 486.5 262.12 L 483 260.37 L 479.5 262.12 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/></g><g><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 281px; margin-left: 434px;"><div data-drawio-colors="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 11px; font-family: &quot;Lucida Console&quot;; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; font-weight: bold; background-color: rgb(255, 255, 255); white-space: nowrap;">1. 异步拉取消息</div></div></div></foreignObject><text x="434" y="284" fill="rgb(0, 0, 0)" font-family="Lucida Console" font-size="11px" text-anchor="middle" font-weight="bold">1. 异步拉取消息</text></switch></g></g><g><path d="M 263 233 C 263 224.72 276.43 218 293 218 C 300.96 218 308.59 219.58 314.21 222.39 C 319.84 225.21 323 229.02 323 233 L 323 423 C 323 431.28 309.57 438 293 438 C 276.43 438 263 431.28 263 423 Z" fill="#ffe6cc" stroke="#d79b00" stroke-miterlimit="10" transform="rotate(90,293,328)" pointer-events="all"/><path d="M 323 233 C 323 241.28 309.57 248 293 248 C 276.43 248 263 241.28 263 233" fill="none" stroke="#d79b00" stroke-miterlimit="10" transform="rotate(90,293,328)" pointer-events="all"/></g><g><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 183px; height: 1px; padding-top: 328px; margin-left: 189px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: &quot;Lucida Console&quot;; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">RabbitMQ<div>消息队列</div></div></div></div></foreignObject><text x="281" y="332" fill="rgb(0, 0, 0)" font-family="Lucida Console" font-size="12px" text-anchor="middle">RabbitMQ...</text></switch></g></g><g><path d="M 123 194 L 123 103.37" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 123 98.12 L 126.5 105.12 L 123 103.37 L 119.5 105.12 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/></g><g><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 175px; margin-left: 64px;"><div data-drawio-colors="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 11px; font-family: &quot;Lucida Console&quot;; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;"><i>1. 发起聊天前检查</i></div></div></div></foreignObject><text x="64" y="178" fill="rgb(0, 0, 0)" font-family="Lucida Console" font-size="11px" text-anchor="middle">1. 发起聊天前检查</text></switch></g></g><g><path d="M 123 254 L 123 328 L 176.63 328" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 181.88 328 L 174.88 331.5 L 176.63 328 L 174.88 324.5 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/></g><g><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 275px; margin-left: 184px;"><div data-drawio-colors="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 11px; font-family: &quot;Lucida Console&quot;; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; font-style: italic; background-color: rgb(255, 255, 255); white-space: nowrap;">2. 推送到消息队列</div></div></div></foreignObject><text x="184" y="278" fill="rgb(0, 0, 0)" font-family="Lucida Console" font-size="11px" text-anchor="middle" font-style="italic">2. 推送到消息队列</text></switch></g></g><g><path d="M 258 189 C 258 180.72 277.25 174 301 174 C 312.4 174 323.34 175.58 331.41 178.39 C 339.47 181.21 344 185.02 344 189 L 344 239 C 344 247.28 324.75 254 301 254 C 277.25 254 258 247.28 258 239 Z" fill="#d5e8d4" stroke="#82b366" stroke-miterlimit="10" pointer-events="all"/><path d="M 344 189 C 344 197.28 324.75 204 301 204 C 277.25 204 258 197.28 258 189" fill="none" stroke="#82b366" stroke-miterlimit="10" pointer-events="all"/></g><g><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 84px; height: 1px; padding-top: 227px; margin-left: 259px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: &quot;Lucida Console&quot;; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">MongoDB<div>数据库集群</div></div></div></div></foreignObject><text x="301" y="230" fill="rgb(0, 0, 0)" font-family="Lucida Console" font-size="12px" text-anchor="middle">MongoDB...</text></switch></g></g><g><path d="M 483 194 L 483 74 L 323 74 L 229.37 74.47" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 224.12 74.49 L 231.1 70.96 L 229.37 74.47 L 231.14 77.96 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/></g><g><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 135px; margin-left: 554px;"><div data-drawio-colors="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 11px; font-family: &quot;Lucida Console&quot;; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; font-weight: bold; background-color: rgb(255, 255, 255); white-space: nowrap;">2. 查询房间内广播对象</div></div></div></foreignObject><text x="554" y="138" fill="rgb(0, 0, 0)" font-family="Lucida Console" font-size="11px" text-anchor="middle" font-weight="bold">2. 查询房间内广播对象</text></switch></g></g><g><rect x="423" y="194" width="120" height="60" fill="#dae8fc" stroke="#6c8ebf" pointer-events="all"/></g><g><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 224px; margin-left: 424px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: &quot;Lucida Console&quot;; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">推送服务节点</div></div></div></foreignObject><text x="483" y="228" fill="rgb(0, 0, 0)" font-family="Lucida Console" font-size="12px" text-anchor="middle">推送服务节点</text></switch></g></g><g><path d="M 423 224 L 383 224 L 383 154 L 301 154 L 301 167.63" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 301 172.88 L 297.5 165.88 L 301 167.63 L 304.5 165.88 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/></g><g><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 139px; margin-left: 362px;"><div data-drawio-colors="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 11px; font-family: &quot;Lucida Console&quot;; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; font-weight: bold; background-color: rgb(255, 255, 255); white-space: nowrap;">3*. 异步写入数据库</div></div></div></foreignObject><text x="362" y="142" fill="rgb(0, 0, 0)" font-family="Lucida Console" font-size="11px" text-anchor="middle" font-weight="bold">3*. 异步写入数据库</text></switch></g></g><g><path d="M 543 224 L 607 224 L 607 296.63" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 607 301.88 L 603.5 294.88 L 607 296.63 L 610.5 294.88 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/></g><g><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 212px; margin-left: 663px;"><div data-drawio-colors="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 11px; font-family: &quot;Lucida Console&quot;; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; font-weight: bold; background-color: rgb(255, 255, 255); white-space: nowrap;">3*. 异步推送至 Socket.IO 节点</div></div></div></foreignObject><text x="663" y="215" fill="rgb(0, 0, 0)" font-family="Lucida Console" font-size="11px" text-anchor="middle" font-weight="bold">3*. 异步推送至 Socket.IO 节点</text></switch></g></g><g><rect x="613" y="247" width="170" height="56" fill="none" stroke="none" pointer-events="all"/></g><g><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 168px; height: 1px; padding-top: 275px; margin-left: 614px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: &quot;Lucida Console&quot;; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">Socket.IO 节点负责与用户建立持久稳定的双向连接，用于执行消息推送</div></div></div></foreignObject><text x="698" y="279" fill="rgb(0, 0, 0)" font-family="Lucida Console" font-size="12px" text-anchor="middle">Socket.IO 节点负责与用户建立持久稳定的双向连接，用于执行消息推送</text></switch></g></g><g><image x="581.5" y="302.5" width="50" height="50" xlink:href="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyNTYgMjU2IiBoZWlnaHQ9IjMyIiB3aWR0aD0iMzIiPjxwYXRoIGQ9Ik05Ni40NDcgNy4zODJjMzIuMjY3LTguMjc1IDY3LjkyOS0zLjQ1MyA5Ni4zODYgMTQuMTFjMzUuODQgMjEuNDMzIDU5LjIzOCA2MS45NzYgNTkuODMzIDEwMy43MWMxLjMxIDQyLjE1LTIwLjY1OSA4My45NDQtNTUuOTYzIDEwNi44NjVjLTM5LjI5MyAyNi40MzMtOTMuNjQ4IDI3LjQ0Ni0xMzMuNzc1IDIuMzIyYy00MC45LTI0LjQxLTY0Ljc3NC03My42NDUtNTguNjQxLTEyMC45MTZjNC45NC00OS45NSA0My41Mi05NC4wMDUgOTIuMTYtMTA2LjA5IiBmaWxsPSIjMDEwMTAxIi8+PHBhdGggZD0iTTkxLjUwNSAyNy44MDNjNjAuOTY0LTI0LjQxIDEzNS43NCAyMC42NTggMTQyLjA1IDg2LjAyOGM5LjgyNCA1OC44Mi0zOC45OTUgMTE4LjU5My05OC41OSAxMjAuMzJjLTU2LjY3NyA1LjY1Ni0xMTEuNDQ5LTQyLjM5LTExMy4wNTYtOTkuMzA0Yy00LjIyNy00Ni4wOCAyNi4xMzYtOTEuODAzIDY5LjU5Ni0xMDcuMDQ0IiBmaWxsPSIjRkZGIi8+PHBhdGggZD0iTTk3LjYzNyAxMjEuNjljMjcuMzI3LTIyLjMyNiA1NC4wNTgtNDUuNDI2IDgxLjk4LTY3LjA5N2MtMTQuNjQ2IDIyLjUwNS0yOS43MDggNDQuNzExLTQ0LjM1NCA2Ny4yMTVjLTEyLjU2Mi4wNi0yNS4xMjMuMDYtMzcuNjI2LS4xMTltMjMuMSAxMi40NDNjMTIuNjIxIDAgMjUuMTgzIDAgMzcuNzQ1LjE3OWMtMjcuNTA1IDIyLjIwNi01NC4xMTcgNDUuNDg0LTgyLjA5OSA2Ny4wOTZjMTQuNjQ2LTIyLjUwNSAyOS43MDgtNDQuNzcgNDQuMzU0LTY3LjI3NSIgZmlsbD0iIzAxMDEwMSIvPjwvc3ZnPg==" preserveAspectRatio="none"/></g><g><g fill="rgb(0, 0, 0)" font-family="Lucida Console" text-anchor="middle" font-size="12px"><rect fill="rgb(255, 255, 255)" stroke="none" x="547" y="361" width="122" height="15" stroke-width="0"/><text x="606.5" y="370.5">Socket.IO 服务节点</text></g></g><g><rect x="66.94" y="18" width="185" height="30" fill="none" stroke="none" pointer-events="all"/></g><g><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 183px; height: 1px; padding-top: 33px; margin-left: 68px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: &quot;Lucida Console&quot;; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">房间和用户的双向映射<div>快速查询用户的房间的映射关系</div></div></div></div></foreignObject><text x="159" y="37" fill="rgb(0, 0, 0)" font-family="Lucida Console" font-size="12px" text-anchor="middle">房间和用户的双向映射&#xa;快速查询用户的房间的映射关系</text></switch></g></g><g><rect x="23" y="52" width="200" height="45" rx="6.75" ry="6.75" fill="#f8cecc" stroke="#b85450" pointer-events="all"/></g><g><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 198px; height: 1px; padding-top: 75px; margin-left: 24px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: &quot;Lucida Console&quot;; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;"><font>Map&lt;Room, Set&lt;User&gt;&gt;</font><div><font>Map&lt;User</font><span style="background-color: initial;">, Set&lt;Room&gt;&gt;</span></div></div></div></div></foreignObject><text x="123" y="78" fill="rgb(0, 0, 0)" font-family="Lucida Console" font-size="12px" text-anchor="middle">Map&lt;Room, Set&lt;User&gt;&gt;...</text></switch></g></g><g><image x="22.5" y="9.5" width="43.94" height="38" xlink:href="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyNTYgMjIwIiBoZWlnaHQ9IjMyIiB3aWR0aD0iMzcuMjQiPjxwYXRoIGQ9Ik0yNDUuOTcgMTY4Ljk0M2MtMTMuNjYyIDcuMTIxLTg0LjQzNCAzNi4yMi05OS41MDEgNDQuMDc1Yy0xNS4wNjcgNy44NTYtMjMuNDM3IDcuNzgtMzUuMzQgMi4wOWMtMTEuOTAyLTUuNjktODcuMjE2LTM2LjExMi0xMDAuNzgzLTQyLjU5N0MzLjU2NiAxNjkuMjcxIDAgMTY2LjUzNSAwIDE2My45NTF2LTI1Ljg3NnM5OC4wNS0yMS4zNDUgMTEzLjg3OS0yNy4wMjRjMTUuODI4LTUuNjc5IDIxLjMyLTUuODg0IDM0Ljc5LS45NWMxMy40NzIgNC45MzYgOTQuMDE4IDE5LjQ2OCAxMDcuMzMxIDI0LjM0NGwtLjAwNiAyNS41MWMuMDAyIDIuNTU4LTMuMDcgNS4zNjQtMTAuMDI0IDguOTg4IiBmaWxsPSIjOTEyNjI2Ii8+PHBhdGggZD0iTTI0NS45NjUgMTQzLjIyYy0xMy42NjEgNy4xMTgtODQuNDMxIDM2LjIxOC05OS40OTggNDQuMDcyYy0xNS4wNjYgNy44NTctMjMuNDM2IDcuNzgtMzUuMzM4IDIuMDljLTExLjkwMy01LjY4Ni04Ny4yMTQtMzYuMTEzLTEwMC43OC00Mi41OTRjLTEzLjU2Ni02LjQ4NS0xMy44NS0xMC45NDgtLjUyNC0xNi4xNjZjMTMuMzI2LTUuMjIgODguMjI0LTM0LjYwNSAxMDQuMDU1LTQwLjI4NGMxNS44MjgtNS42NzcgMjEuMzE5LTUuODg0IDM0Ljc4OS0uOTQ4YzEzLjQ3MSA0LjkzNCA4My44MTkgMzIuOTM1IDk3LjEzIDM3LjgxYzEzLjMxNiA0Ljg4MSAxMy44MjcgOC45LjE2NiAxNi4wMiIgZmlsbD0iI0M2MzAyQiIvPjxwYXRoIGQ9Ik0yNDUuOTcgMTI3LjA3NGMtMTMuNjYyIDcuMTIyLTg0LjQzNCAzNi4yMi05OS41MDEgNDQuMDc4Yy0xNS4wNjcgNy44NTMtMjMuNDM3IDcuNzc3LTM1LjM0IDIuMDg3Yy0xMS45MDMtNS42ODctODcuMjE2LTM2LjExMi0xMDAuNzgzLTQyLjU5N0MzLjU2NiAxMjcuNDAyIDAgMTI0LjY3IDAgMTIyLjA4NVY5Ni4yMDZzOTguMDUtMjEuMzQ0IDExMy44NzktMjcuMDIzYzE1LjgyOC01LjY3OSAyMS4zMi01Ljg4NSAzNC43OS0uOTVDMTYyLjE0MiA3My4xNjggMjQyLjY4OCA4Ny42OTcgMjU2IDkyLjU3NGwtLjAwNiAyNS41MTNjLjAwMiAyLjU1Ny0zLjA3IDUuMzYzLTEwLjAyNCA4Ljk4NyIgZmlsbD0iIzkxMjYyNiIvPjxwYXRoIGQ9Ik0yNDUuOTY1IDEwMS4zNTFjLTEzLjY2MSA3LjEyLTg0LjQzMSAzNi4yMTgtOTkuNDk4IDQ0LjA3NWMtMTUuMDY2IDcuODU0LTIzLjQzNiA3Ljc3Ny0zNS4zMzggMi4wODdjLTExLjkwMy01LjY4Ni04Ny4yMTQtMzYuMTEyLTEwMC43OC00Mi41OTRjLTEzLjU2Ni02LjQ4My0xMy44NS0xMC45NDctLjUyNC0xNi4xNjdDMjMuMTUxIDgzLjUzNSA5OC4wNSA1NC4xNDggMTEzLjg4IDQ4LjQ3YzE1LjgyOC01LjY3OCAyMS4zMTktNS44ODQgMzQuNzg5LS45NDljMTMuNDcxIDQuOTM0IDgzLjgxOSAzMi45MzMgOTcuMTMgMzcuODFjMTMuMzE2IDQuODggMTMuODI3IDguOS4xNjYgMTYuMDIiIGZpbGw9IiNDNjMwMkIiLz48cGF0aCBkPSJNMjQ1Ljk3IDgzLjY1M2MtMTMuNjYyIDcuMTItODQuNDM0IDM2LjIyLTk5LjUwMSA0NC4wNzhjLTE1LjA2NyA3Ljg1NC0yMy40MzcgNy43NzctMzUuMzQgMi4wODdjLTExLjkwMy01LjY4Ny04Ny4yMTYtMzYuMTEzLTEwMC43ODMtNDIuNTk1QzMuNTY2IDgzLjk4IDAgODEuMjQ3IDAgNzguNjY1di0yNS44OHM5OC4wNS0yMS4zNDMgMTEzLjg3OS0yNy4wMjFjMTUuODI4LTUuNjggMjEuMzItNS44ODQgMzQuNzktLjk1QzE2Mi4xNDIgMjkuNzQ5IDI0Mi42ODggNDQuMjc4IDI1NiA0OS4xNTVsLS4wMDYgMjUuNTEyYy4wMDIgMi41NTUtMy4wNyA1LjM2MS0xMC4wMjQgOC45ODYiIGZpbGw9IiM5MTI2MjYiLz48cGF0aCBkPSJNMjQ1Ljk2NSA1Ny45M2MtMTMuNjYxIDcuMTItODQuNDMxIDM2LjIyLTk5LjQ5OCA0NC4wNzRjLTE1LjA2NiA3Ljg1NC0yMy40MzYgNy43NzctMzUuMzM4IDIuMDlDOTkuMjI3IDk4LjQwNCAyMy45MTUgNjcuOTggMTAuMzUgNjEuNDk3Qy0zLjIxNyA1NS4wMTUtMy41IDUwLjU1IDkuODI1IDQ1LjMzMUMyMy4xNTEgNDAuMTEzIDk4LjA1IDEwLjczIDExMy44OCA1LjA1YzE1LjgyOC01LjY3OSAyMS4zMTktNS44ODMgMzQuNzg5LS45NDhjMTMuNDcxIDQuOTM1IDgzLjgxOSAzMi45MzQgOTcuMTMgMzcuODExYzEzLjMxNiA0Ljg3NiAxMy44MjcgOC44OTcuMTY2IDE2LjAxNyIgZmlsbD0iI0M2MzAyQiIvPjxwYXRoIGQ9Im0xNTkuMjgzIDMyLjc1N2wtMjIuMDEgMi4yODVsLTQuOTI3IDExLjg1NmwtNy45NTgtMTMuMjNsLTI1LjQxNS0yLjI4NGwxOC45NjQtNi44MzlsLTUuNjktMTAuNDk4bDE3Ljc1NSA2Ljk0NGwxNi43MzgtNS40OGwtNC41MjQgMTAuODU1em0tMjguMjUxIDU3LjUxOEw4OS45NTUgNzMuMjM4bDU4Ljg2LTkuMDM1em0tNTYuOTUtNTAuOTI4YzE3LjM3NSAwIDMxLjQ2IDUuNDYgMzEuNDYgMTIuMTk0YzAgNi43MzYtMTQuMDg1IDEyLjE5NS0zMS40NiAxMi4xOTVzLTMxLjQ2LTUuNDYtMzEuNDYtMTIuMTk1YzAtNi43MzQgMTQuMDg1LTEyLjE5NCAzMS40Ni0xMi4xOTQiIGZpbGw9IiNGRkYiLz48cGF0aCBkPSJtMTg1LjI5NSAzNS45OThsMzQuODM2IDEzLjc2NmwtMzQuODA2IDEzLjc1M3oiIGZpbGw9IiM2MjFCMUMiLz48cGF0aCBkPSJtMTQ2Ljc1NSA1MS4yNDNsMzguNTQtMTUuMjQ1bC4wMyAyNy41MTlsLTMuNzc5IDEuNDc4eiIgZmlsbD0iIzlBMjkyOCIvPjwvc3ZnPg==" preserveAspectRatio="none"/></g></g><switch><g requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"/><a transform="translate(0,-5)" xlink:href="https://www.drawio.com/doc/faq/svg-export-text-problems" target="_blank"><text text-anchor="middle" font-size="10px" x="50%" y="100%">Text is not SVG - cannot display</text></a></switch></svg>